(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],c=0,m=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a4c1e":"1ec834ed","chunk-2d0c85f8":"22804092","chunk-2d0d03d6":"12765c11","chunk-2d0e5991":"9df0b8e9"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var r=new Promise((function(t,r){s=a[e]=[t,r]}));t.push(s[2]=r);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var u=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(c);var s=a[e];if(0!==s){if(s){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",u.name="ChunkLoadError",u.type=r,u.request=n,s[1](u)}a[e]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},9985:function(e,t,s){"use strict";var r=s("bc3a"),a=s.n(r);function n(){const e=localStorage.getItem("user");let t=JSON.parse(e||"");return t&&t.accessToken?{Authorization:"Bearer "+t.accessToken}:{}}const o="/api/test";class i{getPublicContent(){return a.a.get(o+"all")}getUserBoard(){return a.a.get(o+"user",{headers:n()})}getModeratorBoard(){return a.a.get(o+"mod",{headers:n()})}getAdminBoard(){return a.a.get(o+"admin",{headers:n()})}}t["a"]=new i},a71a:function(e,t,s){"use strict";s("baf4")},a7a5:function(e,t,s){"use strict";s("e991")},baf4:function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark"},[s("a",{staticClass:"navbar-brand",attrs:{href:""},on:{click:function(e){e.preventDefault()}}},[e._v("bezKoder")]),s("div",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/home"}},[s("font-awesome-icon",{attrs:{icon:"home"}}),e._v(" Home ")],1)],1),e.showAdminBoard?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin"}},[e._v("Admin Board")])],1):e._e(),e.showModeratorBoard?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/mod"}},[e._v("Moderator Board")])],1):e._e(),s("li",{staticClass:"nav-item"},[e.currentUser?s("router-link",{staticClass:"nav-link",attrs:{to:"/user"}},[e._v("User")]):e._e()],1)]),e.currentUser?e._e():s("div",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[s("font-awesome-icon",{attrs:{icon:"user-plus"}}),e._v(" Sign Up ")],1)],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[s("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),e._v(" Login ")],1)],1)]),e.currentUser?s("div",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/profile"}},[s("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(e.currentUser.username)+" ")],1)],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logOut(t)}}},[s("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),e._v(" LogOut ")],1)])]):e._e()]),s("div",{staticClass:"container"},[s("router-view")],1)])},n=[],o=(s("caad"),s("9ab4")),i=s("60a3"),l=s("4bb5");const u=Object(l["a"])("Auth");let c=class extends i["b"]{get showAdminBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")}get showModeratorBoard(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_MODERATOR")}logOut(){this.signOut(),this.$router.push("/login")}};Object(o["a"])([u.State("user")],c.prototype,"currentUser",void 0),Object(o["a"])([u.Action],c.prototype,"signOut",void 0),c=Object(o["a"])([i["a"]],c);var d=c,m=d,p=s("2877"),v=Object(p["a"])(m,a,n,!1,null,null,null),g=v.exports,h=s("8c4f"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("header",{staticClass:"jumbotron"},[s("h3",[e._v(e._s(e.content))])])])},b=[],w=s("9985");let _=class extends i["b"]{constructor(){super(...arguments),this.content=""}mounted(){w["a"].getPublicContent().then(e=>{this.content=e.data},e=>{this.content=e.response&&e.response.data||e.message||e.toString()})}};_=Object(o["a"])([i["a"]],_);var C=_,O=C,y=Object(p["a"])(O,f,b,!1,null,null,null),j=y.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card card-container"},[s("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),s("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.errors.has("username")?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" Username is required! ")]):e._e()]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.errors.has("password")?s("div",{staticClass:"alert alert-danger",attrs:{ole:"alert"}},[e._v(" Password is required! ")]):e._e()]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.loading}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),s("span",[e._v("Login")])])]),s("div",{staticClass:"form-group"},[e.message?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])])},k=[];const P=Object(l["a"])("Auth");let S=class extends i["b"]{constructor(){super(...arguments),this.user={username:"",password:""},this.loading=!1,this.message=""}created(){this.isLoggedIn&&this.$router.push("/profile")}handleLogin(){this.loading=!0,this.$validator.validateAll().then(e=>{e?this.user.username&&this.user.password&&this.login(this.user).then(e=>{this.$router.push("/profile")},e=>{this.loading=!1,this.message=e}):this.loading=!1})}};Object(o["a"])([P.Getter],S.prototype,"isLoggedIn",void 0),Object(o["a"])([P.Action],S.prototype,"login",void 0),S=Object(o["a"])([i["a"]],S);var I=S,U=I,$=(s("a71a"),Object(p["a"])(U,x,k,!1,null,"8a8aec78",null)),A=$.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card card-container"},[s("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),s("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.successful?e._e():s("div",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.submitted&&e.errors.has("username")?s("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("username"))+" ")]):e._e()]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"form-control",attrs:{type:"email",name:"email"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.submitted&&e.errors.has("email")?s("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("email"))+" ")]):e._e()]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.Password,expression:"user.Password"},{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.Password},on:{input:function(t){t.target.composing||e.$set(e.user,"Password",t.target.value)}}}),e.submitted&&e.errors.has("password")?s("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("password"))+" ")]):e._e()]),e._m(0)])]),e.message?s("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e()])])},E=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-block"},[e._v("Sign up")])])}];const L=Object(l["a"])("Auth");let q=class extends i["b"]{constructor(){super(...arguments),this.user={username:"",email:"",password:""},this.submitted=!1,this.successful=!1,this.message=""}mounted(){this.isLoggedIn&&this.$router.push("/profile")}handleRegister(){this.message="",this.submitted=!0,this.$validator.validate().then(e=>{e&&this.register(this.user).then(e=>{this.message=e.message,this.successful=!0},e=>{this.message=e,this.successful=!1})})}};Object(o["a"])([L.Getter],q.prototype,"isLoggedIn",void 0),Object(o["a"])([L.Action],q.prototype,"register",void 0),q=Object(o["a"])([i["a"]],q);var B=q,M=B,T=(s("a7a5"),Object(p["a"])(M,N,E,!1,null,"0f0964c2",null)),D=T.exports;r["a"].use(h["a"]);const F=[{path:"/",name:"home",component:j},{path:"/home",component:j},{path:"/login",component:A},{path:"/register",component:D},{path:"/profile",name:"profile",component:()=>s.e("chunk-2d0d03d6").then(s.bind(null,"66aa"))},{path:"/admin",name:"admin",component:()=>s.e("chunk-2d0c85f8").then(s.bind(null,"5535"))},{path:"/mod",name:"moderator",component:()=>s.e("chunk-2d0e5991").then(s.bind(null,"94bb"))},{path:"/user",name:"user",component:()=>s.e("chunk-2d0a4c1e").then(s.bind(null,"0899"))}],R=new h["a"]({mode:"history",base:"/",routes:F});var J=R,z=s("2f62"),G=s("6fc5"),H=s("bc3a"),K=s.n(H);const Q="/api/auth";class V{login(e,t){return K.a.post(Q+"signin",{username:e,password:t}).then(e=>(e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data))}logout(){localStorage.removeItem("user")}register(e,t,s){return K.a.post(Q+"signup",{username:e,emal:t,password:s})}}var W=new V;const X=localStorage.getItem("user");let Y=class extends G["d"]{constructor(){super(...arguments),this.status=X?{loggedIn:!0}:{loggedIn:!1},this.user=X?JSON.parse(X):null}loginSuccess(e){this.status.loggedIn=!0,this.user=e}loginFailure(){this.status.loggedIn=!1,this.user=null}logout(){this.status.loggedIn=!1,this.user=null}registerSuccess(){this.status.loggedIn=!1}registerFailure(){this.status.loggedIn=!1}login(e){return W.login(e.username,e.password).then(e=>(this.context.commit("loginSuccess",e),Promise.resolve(e)),e=>{this.context.commit("loginFailure");const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return Promise.reject(t)})}signOut(){W.logout(),this.context.commit("logout")}register(e){return W.register(e.username,e.email,e.password).then(e=>(this.context.commit("registerSuccess"),Promise.resolve(e.data)),e=>{this.context.commit("registerFailure");const t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return Promise.reject(t)})}get isLoggedIn(){return this.status.loggedIn}};Object(o["a"])([G["c"]],Y.prototype,"loginSuccess",null),Object(o["a"])([G["c"]],Y.prototype,"loginFailure",null),Object(o["a"])([G["c"]],Y.prototype,"logout",null),Object(o["a"])([G["c"]],Y.prototype,"registerSuccess",null),Object(o["a"])([G["c"]],Y.prototype,"registerFailure",null),Object(o["a"])([Object(G["a"])({rawError:!0})],Y.prototype,"login",null),Object(o["a"])([G["a"]],Y.prototype,"signOut",null),Object(o["a"])([Object(G["a"])({rawError:!0})],Y.prototype,"register",null),Y=Object(o["a"])([Object(G["b"])({namespaced:!0})],Y);var Z=Y;r["a"].use(z["a"]);var ee=new z["a"].Store({modules:{Auth:Z}}),te=(s("7b17"),s("ab8b"),s("7bb1")),se=s("ecee"),re=s("ad3d"),ae=s("c074");se["c"].add(ae["a"],ae["d"],ae["e"],ae["b"],ae["c"]),r["a"].config.productionTip=!1,r["a"].use(te["a"]),r["a"].component("font-awesome-icon",re["a"]),new r["a"]({router:J,store:ee,render:e=>e(g)}).$mount("#app")},e991:function(e,t,s){}});
//# sourceMappingURL=app.a69ac8fb.js.map